# Cursor å¼€å‘è§„åˆ™ - Crypto Monitor

## ğŸš« ç¦æ­¢è¡Œä¸º

### 1. ç¦æ­¢ä½¿ç”¨ mock/fake/dummy æ•°æ®
- ä¸è¦åˆ›å»º mock_data.py, fake_api.py ç­‰æ–‡ä»¶
- ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å‡æ•°æ®
- ä¸è¦ç”¨ random ç”Ÿæˆå‡è¡Œæƒ…æ•°æ®
- ä¸è¦ç”¨ time.sleep() æ¨¡æ‹Ÿ API å»¶è¿Ÿ

### 2. ç¦æ­¢è·³è¿‡çœŸå®å®ç°
- ä¸è¦å†™ `# TODO: implement later`
- ä¸è¦å†™ `pass` å ä½ç¬¦
- ä¸è¦å†™ `return mock_response()`
- ä¸è¦å†™ç¤ºä¾‹/æ ·ä¾‹å“åº”

### 3. ç¦æ­¢å‡è£…å®Œæˆ
- ä¸è¦è¯´"å·²å®Œæˆ"ä½†å®é™…ç”¨çš„æ˜¯å‡æ•°æ®
- ä¸è¦ç”¨å›ºå®šå€¼æ¨¡æ‹ŸåŠ¨æ€æ•°æ®

---

## âœ… å¿…é¡»è¡Œä¸º

### 1. ä½¿ç”¨çœŸå® API
- å¦‚æœéœ€è¦ API Keyï¼Œæ˜ç¡®å‘Šè¯‰ç”¨æˆ·éœ€è¦ä»€ä¹ˆ
- å¦‚æœ API æœ‰é™åˆ¶ï¼Œå‘Šè¯‰ç”¨æˆ·é™åˆ¶æ˜¯ä»€ä¹ˆ
- å¦‚æœ API ä¸å¯ç”¨ï¼Œå‘Šè¯‰ç”¨æˆ·å¹¶æä¾›æ›¿ä»£æ–¹æ¡ˆ

### 2. æ˜ç¡®ä¾èµ–
- åˆ—å‡ºæ‰€æœ‰éœ€è¦çš„ API Key
- åˆ—å‡ºæ‰€æœ‰éœ€è¦çš„ç¯å¢ƒå˜é‡
- åˆ—å‡ºæ‰€æœ‰éœ€è¦å®‰è£…çš„ä¾èµ–

### 3. éªŒè¯å¯è¡Œæ€§
- æä¾›æµ‹è¯•å‘½ä»¤éªŒè¯ API æ˜¯å¦æ­£å¸¸
- ç¡®ä¿ä»£ç èƒ½ç›´æ¥è¿è¡Œ

---

## ğŸ“Š å¯ç”¨çš„å…è´¹ API

### äº¤æ˜“æ‰€å®˜æ–¹ APIï¼ˆæ— éœ€ Keyï¼‰

```python
EXCHANGE_APIS = {
    'binance': {
        'ticker': 'https://api.binance.com/api/v3/ticker/24hr?symbol={symbol}',
        'all_tickers': 'https://api.binance.com/api/v3/ticker/24hr',
        'depth': 'https://api.binance.com/api/v3/depth?symbol={symbol}&limit=20',
        'limit': '1200æ¬¡/åˆ†é’Ÿ',
    },
    'okx': {
        'ticker': 'https://www.okx.com/api/v5/market/ticker?instId={symbol}',
        'all_tickers': 'https://www.okx.com/api/v5/market/tickers?instType=SPOT',
        'limit': '20æ¬¡/2ç§’',
    },
    'bybit': {
        'ticker': 'https://api.bybit.com/v5/market/tickers?category=spot&symbol={symbol}',
        'all_tickers': 'https://api.bybit.com/v5/market/tickers?category=spot',
        'limit': '120æ¬¡/ç§’',
    },
    'gate': {
        'ticker': 'https://api.gateio.ws/api/v4/spot/tickers?currency_pair={symbol}',
        'all_tickers': 'https://api.gateio.ws/api/v4/spot/tickers',
    },
    'upbit': {
        'ticker': 'https://api.upbit.com/v1/ticker?markets={symbol}',
        'limit': '10æ¬¡/ç§’',
    },
}
```

### èšåˆæ•°æ® APIï¼ˆå…è´¹ï¼‰

```python
AGGREGATOR_APIS = {
    'coingecko': 'https://api.coingecko.com/api/v3/',
    'dexscreener': 'https://api.dexscreener.com/latest/dex/',
    'fear_greed': 'https://api.alternative.me/fng/',
}
```

---

## ğŸ” å¦‚ä½•è¯†åˆ«å‡æ•°æ®

```python
# âŒ å‡æ•°æ®ç‰¹å¾ï¼š
price = 50000.00  # ç¡¬ç¼–ç 
price = random.uniform(49000, 51000)  # random ç”Ÿæˆ
from mock_data import get_ticker  # mock æ–‡ä»¶
await asyncio.sleep(0.5)  # æ¨¡æ‹Ÿå»¶è¿Ÿ

# âœ… çœŸå®æ•°æ®ç‰¹å¾ï¼š
async with session.get(url) as resp:
    data = await resp.json()  # å®é™… HTTP è¯·æ±‚
```

---

## ğŸ“‹ é¡¹ç›®ç‰¹å®šè§„åˆ™

### Redis æ•°æ®ç»“æ„
- `known_pairs:{exchange}` - Setï¼Œå·²çŸ¥äº¤æ˜“å¯¹
- `contracts:{symbol}` - Hashï¼Œåˆçº¦åœ°å€ä¿¡æ¯
- `events:raw` / `events:fused` - Streamï¼Œäº‹ä»¶æµ
- `node:heartbeat:{node}` - Hashï¼ŒèŠ‚ç‚¹å¿ƒè·³

### ä»£å¸åˆ†ç±»
- major: ä¸»æµå¸ (BTC, ETH, SOL...)
- meme: Memeå¸ (DOGE, SHIB, PEPE...)
- defi: DeFi (UNI, AAVE, MKR...)
- layer2: Layer2 (ARB, OP, MATIC...)
- ai: AI/Gaming (FET, RNDR, AXS...)
- stable: ç¨³å®šå¸ (USDT, USDC...)

### è¯„åˆ†ä½“ç³»
- ä½¿ç”¨ v4/v5 è¯„åˆ†å¼•æ“
- æ¥æºè¯„åˆ† + äº¤æ˜“æ‰€ä¹˜æ•° + äº‹ä»¶ç±»å‹ + å¤šæºåŠ åˆ†

### éƒ¨ç½²
- ä»…ä½¿ç”¨ Docker éƒ¨ç½²
- æ—¶åŒºï¼šAsia/Shanghai (UTC+8)
- Redis å¯†ç ï¼šä»ç¯å¢ƒå˜é‡è¯»å–

